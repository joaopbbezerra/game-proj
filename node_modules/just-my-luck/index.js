!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).JustMyLuck=t()}(this,function(){"use strict";var e=function(e){this.random=e},t={random:{configurable:!0}};function n(e){return e&&function(e){return Number.isSafeInteger(e)&&e>=0}(e.length)}function r(e){return n(e)?e.length:0}function i(e){return n(e)?e:Array.from(e)}function u(e){return Array.isArray(e)?e:Array.from(e)}t.random.get=function(){return Math.random},e.extend=function(e){var t=this;Object.entries(e).forEach(function(e){var n=e[0],r=e[1];t[n]=r,Object.defineProperty(t.prototype,n,{get:function(){return this.constructor[n]}})})},Object.defineProperties(e,t),e.extend({boolean:function(){return this.random()<.5}}),e.extend({booleanWeighted:function(e){return this.random()>=1/(e+1)}}),e.extend({float:function(e,t,n){var r,i=this;if(void 0===n&&(n=!1),n)return e===t?e:([0,0].some(function(){return(r=i.float(e,t))===e})&&this.boolean()&&(r=t),r);if(e<t){var u=e+(t-e)*this.random();return u<t?u:e}throw new RangeError}}),e.extend({integer:function(e,t,n){return void 0===n&&(n=!1),e=Math.ceil(e),t=Math.floor(t),n&&t++,t-e==1?e:Math.floor(this.float(e,t))}}),e.extend({index:function(e){var t=r(e);return this.integer(0,t)}}),e.extend({value:function(e){var t=i(e);return t[this.index(t)]},item:function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).value.apply(e,t)}}),e.extend({combination:function(e,t){var n=u(e),r=n.length;if(r>0&&t>0){if(r>1==t>1){if(t<r/2){for(var i=n.map(function(e,t){return t}),o=new Set,a=0,f=t;a<f;a++)o.add(i.splice(this.index(i),1)[0]);n=n.filter(function(e,t){return o.has(t)})}else{n===e&&(n=n.slice());for(var h=0,c=r-t;h<c;h++)n.splice(this.index(n),1)}return n}return[this.value(n)]}return[]},items:function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).combination.apply(e,t)}}),e.extend({indexWeighted:function(e){for(var t,n=r(e),i=[],u=[],o=[],a=0;a<n;a++){var f=e[a][1];f>0?f<1/0?u.push([a,f]):i.push(a):o.push(a)}if(i.length>0)return this.value(i);if(u.length>0){u.sort(function(e,t){return t[1]-e[1]});var h=[],c=[];if(u.forEach(function(e){var t=e[0],n=e[1];h.push(t),c.push(n)}),c[0]===(t=c)[function(e){return e.length-1}(t)])return this.value(h);var s=c.reduce(function(e,t){return e+t}),d=this.float(0,s),l=c.findIndex(function(e){return(d-=e)<0});return l<0&&(l=0),h[l]}return this.value(o)}}),e.extend({valueWeighted:function(e){var t=i(e);return t[this.indexWeighted(t)][0]},itemWeighted:function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).valueWeighted.apply(e,t)}}),e.extend({combinationWeighted:function(e,t){var n=u(e),r=n.length;if(r>0&&t>0){if(r>1==t>1){if(t<r){for(var i=n.map(function(e,t){return[t,e[1]]}),o=new Set,a=0,f=t;a<f;a++)o.add(i.splice(this.indexWeighted(i),1)[0][0]);n=n.filter(function(e,t){return o.has(t)})}return n.map(function(e){return e[0]})}return[this.valueWeighted(n)]}return[]},itemsWeighted:function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).combinationWeighted.apply(e,t)}}),e.extend({date:function(e,t,n){return new Date(this.integer(e.getTime(),t.getTime(),n))}});var o=624;Object.assign(e,{MersenneTwister:function(e){for(var t=[e],n=1;n<o;n++)t[n]=1812433253*(t[n-1]^t[n-1]>>30)+n;var r=0;return function(){if(!r)for(var e=0;e<o;e++){var n=(2147483648&t[e])+(2147483647&t[(e+1)%o]),i=n>>1;n%2&&(i^=2567483615),t[e]=t[(e+397)%o]^i}var u=t[r];return u^=u>>11,u^=u<<7&2636928640,u^=u<<15&4022730752,r=(r+1)%o,(u^=u>>18)/2147483649}}}),e.extend({multipermutation:function(e,t){for(var n=i(e),r=[];t>0;)r.push(this.value(n)),t--;return r},itemsRepeated:function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).multipermutation.apply(e,t)}}),e.extend({multipermutationWeighted:function(e,t){for(var n=i(e),r=[];t>0;)r.push(this.valueWeighted(n)),t--;return r},itemsRepeatedWeighted:function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).multipermutationWeighted.apply(e,t)}}),e.extend({shuffleInPlace:function(e){for(var t,n=r(e);n>1;){var i=this.integer(0,n);n--,t=[e[i],e[n]],e[n]=t[0],e[i]=t[1]}return e}}),e.extend({shuffle:function(e){var t=Array.from(e);return this.shuffleInPlace(t)}});var a="abcdefghijklmnopqrstuvwxyz".toUpperCase(),f="abcdefghijklmnopqrstuvwxyz"+a,h=f+"0123456789",c=a+"0123456789";return Object.assign(e,{alphabetic:f,alphanumeric:h,lowerCasedAlphabetic:"abcdefghijklmnopqrstuvwxyz",lowerCasedAlphanumeric:"abcdefghijklmnopqrstuvwxyz0123456789",numeric:"0123456789",upperCasedAlphabetic:a,upperCasedAlphanumeric:c}),e.extend({string:function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).multipermutation.apply(e,t).join("")}}),e});
